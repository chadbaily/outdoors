<?php /* Smarty version 2.3.0, created on 2004-08-26 10:37:23
         compiled from admin/statuslist.html */ ?>
<?php $this->_load_plugins(array(
array('modifier', 'stripslashes', 'admin/statuslist.html', 26, false),)); ?><script language="JavaScript">
<!--
	var me = '<?php echo $GLOBALS['HTTP_SERVER_VARS']['PHP_SELF']; ?>
';
	<?php echo '
		
	function popupStatus(id) {
		window.open(me + \'?op=edit&use_js=1&status_id=\'+id, \'ewin\', \'dependent=yes,width=350,height=300,scrollbars=1\');
	}
	'; ?>

// -->
</script>
<table border="0" width="100%">
	<tr>
		<td valign="top">
			<b>&nbsp;<?php echo $this->_tpl_vars['page_title']; ?>
</b> - <a href="<?php echo $GLOBALS['HTTP_SERVER_VARS']['PHP_SELF']; ?>
?op=edit&status_id=0" onClick="popupStatus(0); return false;"><?php echo $this->_tpl_vars['STRING']['addnew']; ?>
 Status</a>
			<hr size="1">
			<table border="0" cellpadding="2" cellspacing="1" width="100%">
				<tr>
					<th class="<?php echo $this->_tpl_vars['headers']['name']['class']; ?>
"><a href="<?php echo $this->_tpl_vars['headers']['name']['url']; ?>
">Name</a></th>
					<th class="<?php echo $this->_tpl_vars['headers']['description']['class']; ?>
"><a href="<?php echo $this->_tpl_vars['headers']['description']['url']; ?>
">Description</a></th>
					<th class="<?php echo $this->_tpl_vars['headers']['sortorder']['class']; ?>
"><a href="<?php echo $this->_tpl_vars['headers']['sortorder']['url']; ?>
">Sort Order</a></th>
					<th>Delete</th>
				</tr>
				<?php if (isset($this->_sections["status"])) unset($this->_sections["status"]);
$this->_sections["status"]['name'] = "status";
$this->_sections["status"]['loop'] = is_array($this->_tpl_vars['statuses']) ? count($this->_tpl_vars['statuses']) : max(0, (int)$this->_tpl_vars['statuses']);
$this->_sections["status"]['show'] = true;
$this->_sections["status"]['max'] = $this->_sections["status"]['loop'];
$this->_sections["status"]['step'] = 1;
$this->_sections["status"]['start'] = $this->_sections["status"]['step'] > 0 ? 0 : $this->_sections["status"]['loop']-1;
if ($this->_sections["status"]['show']) {
    $this->_sections["status"]['total'] = $this->_sections["status"]['loop'];
    if ($this->_sections["status"]['total'] == 0)
        $this->_sections["status"]['show'] = false;
} else
    $this->_sections["status"]['total'] = 0;
if ($this->_sections["status"]['show']):

            for ($this->_sections["status"]['index'] = $this->_sections["status"]['start'], $this->_sections["status"]['iteration'] = 1;
                 $this->_sections["status"]['iteration'] <= $this->_sections["status"]['total'];
                 $this->_sections["status"]['index'] += $this->_sections["status"]['step'], $this->_sections["status"]['iteration']++):
$this->_sections["status"]['rownum'] = $this->_sections["status"]['iteration'];
$this->_sections["status"]['index_prev'] = $this->_sections["status"]['index'] - $this->_sections["status"]['step'];
$this->_sections["status"]['index_next'] = $this->_sections["status"]['index'] + $this->_sections["status"]['step'];
$this->_sections["status"]['first']      = ($this->_sections["status"]['iteration'] == 1);
$this->_sections["status"]['last']       = ($this->_sections["status"]['iteration'] == $this->_sections["status"]['total']);
?>
				<tr<?php if (!($this->_sections['status']['iteration'] % 2)  ): ?> class="alt"<?php endif; ?>>
					<td><a href="<?php echo $GLOBALS['HTTP_SERVER_VARS']['PHP_SELF']; ?>
?op=edit&status_id=<?php echo $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['status_id']; ?>
" onClick="popupStatus(<?php echo $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['status_id']; ?>
); return false;"><?php echo $this->_run_mod_handler('stripslashes', true, $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['status_name']); ?>
</a></td>
					<td>&nbsp;<?php echo $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['status_desc']; ?>
</td>
					<td align="center"><?php echo $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['sort_order']; ?>
</td>
					<td align="center">
						<?php if (! $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['bug_count']): ?>
						<a href="<?php echo $GLOBALS['HTTP_SERVER_VARS']['PHP_SELF']; ?>
?op=del&status_id=<?php echo $this->_tpl_vars['statuses'][$this->_sections['status']['index']]['status_id']; ?>
" onClick="return confirm('Are you sure you want to delete this status?')">Delete</a>
						<?php endif; ?>
					</td>
				</tr>
				<?php endfor; endif; ?>
				<tr>
					<td colspan="3" align="center">
						<br>
  					<?php echo $this->_tpl_vars['first']; ?>
 - <?php echo $this->_tpl_vars['last']; ?>
 of <?php echo $this->_tpl_vars['total']; ?>

						<br>
						<?php if ($this->_tpl_vars['pages'] != "1"): ?>[ <?php echo $this->_tpl_vars['pages']; ?>
 ]<?php endif; ?>
  					<br>
					</td>
				</tr>
			</table>
			<br>
			<div class="info">
				Statuses with a Sort Order = 0 will not be selectable by users
				<br>
				Only those Statuses that have no bugs referencing them can be deleted
			</div>
		</td>
	</tr>
</table>